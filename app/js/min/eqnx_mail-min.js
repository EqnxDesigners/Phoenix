$(document).ready(function(){"use strict";function e(e){var n=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return n.test(e)}function n(){$("form").find("input[type=text], input[type=email], textarea").val(""),$("label").removeClass("on")}function a(e){var n=$('input[name="nom"][form-code="'+e+'"]').val();return n?!0:($('input[name="nom"][form-code="'+e+'"]').after('<span class="error">Nom manquant</span>'),!1)}function t(n){var a=$('input[name="email"][form-code="'+n+'"]').val();return a?e(a)===!1?($('input[name="email"][form-code="'+n+'"]').after('<span class="error">Email erroné</span>'),!1):!0:($('input[name="email"][form-code="'+n+'"]').after('<span class="error">Email manquant</span>'),!1)}function r(e){var n=$('textarea[name="message"][form-code="'+e+'"]').val();return n?!0:($('textarea[name="message"][form-code="'+e+'"]').after('<span class="error">Votre message est vide</span>'),!1)}function u(e){$("span.error").remove();var n=!0;return a(e)!==!0&&(n=!1),t(e)!==!0&&(n=!1),e.indexOf("contact")>-1&&r(e)!==!0&&(n=!1),n}function o(e){var a,t,r,u,o,s;a=$('input[name="nom"][form-code="'+e+'"]').val(),t=$('input[name="email"][form-code="'+e+'"]').val(),e.indexOf("contact")>-1&&(r=$('textarea[name="message"][form-code="'+e+'"]').val(),$.ajax({url:F,type:"POST",data:{a:"sendMailContact",nom:a,email:t,message:r},crossDomain:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).done(function(e){"true"===e&&($(".sending").removeClass("sending"),swal({title:"Message envoyé",text:"Nous vous répondrons dans les plus brefs délais.",type:"success",confirmButtonText:"Ok"}),n())}).fail(function(e){$(".sending").removeClass("sending"),swal({title:"Erreur lors de l'envoi du message",text:"Réessayer plus tard, si le promlème persiste, merci de nous contacter par mail à l'adresse info@eqnx.ch.",type:"error",confirmButtonText:"Ok"})})),e.indexOf("event")>-1&&(r=$('textarea[form-code="'+e+'"]').val(),u=$('input[name="eventName"][form-code="'+e+'"]').val(),o=$('input[name="eventDate"][form-code="'+e+'"]').val(),s=$('input[name="eventPlace"][form-code="'+e+'"]').val(),$.ajax({url:F,type:"POST",data:{a:"sendMailInscr",nom:a,email:t,message:r,event:u,eventDate:o,eventPlace:s},crossDomain:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).done(function(e){"true"===e&&($(".sending").removeClass("sending"),swal({title:"Inscription envoyée",text:"Vous allez recevoir sous peu un email de confirmation,",type:"success",confirmButtonText:"Ok"}),n())}).fail(function(e){$(".sending").removeClass("sending"),swal({title:"Erreur lors de l'envoi de l'inscription",text:"Réessayer plus tard, si le promlème persiste, merci de nous contacter par mail à l'adresse info@eqnx.ch.",type:"error",confirmButtonText:"Ok"})}))}var s="./ajax.php",F="http://www.eqnx.ch/mail/ajax_mail.php";$(".content-sem-inscr-valid").hide(),$(".content-sem-inscr-load").hide(),$(".content-sem-inscr-error").hide(),$("#sendingButton").hide(),$(".send-form").on("click",function(){var e=$(this).attr("form-code");u(e)===!0&&(o(e),$(this).parent("div").addClass("sending"))})});